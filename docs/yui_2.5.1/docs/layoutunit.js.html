<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>API: layout   layoutunit.js  (YUI Library)</title>
	<link rel="stylesheet" type="text/css" href="assets/api.css">
    <script type="text/javascript" src="assets/api-js"></script>
    <script type="text/javascript" src="assets/ac-js"></script>
</head>

<body id="yahoo-com">
<div style="background: none repeat scroll 0 0 #355E95; border: 1px solid #B6CDE1; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); color: #FFF; font: 177% Helvetica,Arial,sans-serif; margin: 0; padding: 0; text-align: center; white-space: nowrap; line-height: 1.2em;">
    <p style="margin: 1em;">YUI recommends <a style="text-decoration: none; color: #F29752;" href="http://yuilibrary.com/">YUI 3.</a></p>
    <p style="margin: 1em;">YUI 2 has been <a style="text-decoration: none; color: #F29752;" href="http://www.yuiblog.com/blog/2011/04/13/announcing-yui-2-9-0/">deprecated</a> since 2011. This site acts as an archive for files and documentation.</p>
</div>

<div id="doc3" class="yui-t2">

	<div id="hd">
        <a href="http://developer.yahoo.com/yui/"><h1>Yahoo! UI Library</h1></a>
        <h3>layout&nbsp; <span class="subtitle">2.5.1</span></h3>
        <p>
        <a href="./index.html">Yahoo! UI Library</a> 
            &gt; <a href="./module_layout.html">layout</a>
                
                 &gt; layoutunit.js (source view) 
            </p>

	</div>

	<div id="bd">
		<div id="yui-main">
			<div class="yui-b">
            <form name="yui-classopts-form">
    <span id="classopts"><input type="checkbox" name="showprivate" id="showprivate" /> Show Private</span>
    <span id="classopts"><input type="checkbox" name="showprotected" id="showprotected" /> Show Protected</span>
            </form>

                    <div id="srcout">
                        <style>
                            #doc3 #classopts { display:none; }
                        </style>
<div class="highlight" ><pre><span class="c">/**</span>
<span class="c"> * @description &lt;p&gt;Provides a fixed position unit containing a header, body and footer for use with a YAHOO.widget.Layout instance.&lt;/p&gt;</span>
<span class="c"> * @namespace YAHOO.widget</span>
<span class="c"> * @requires yahoo, dom, element, event, layout</span>
<span class="c"> * @optional animation, dragdrop, selector</span>
<span class="c"> * @beta</span>
<span class="c"> */</span>
<span class="o">(</span><span class="k">function</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">var</span> <span class="nx">Dom</span> <span class="o">=</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Dom</span><span class="o">,</span>
        <span class="nx">Sel</span> <span class="o">=</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Selector</span><span class="o">,</span>
        <span class="nx">Event</span> <span class="o">=</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Event</span><span class="o">,</span>
        <span class="nx">Lang</span> <span class="o">=</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">lang</span><span class="o">;</span>

    <span class="c">/**</span>
<span class="c">     * @constructor</span>
<span class="c">     * @class LayoutUnit</span>
<span class="c">     * @extends YAHOO.util.Element</span>
<span class="c">     * @description &lt;p&gt;Provides a fixed position unit containing a header, body and footer for use with a YAHOO.widget.Layout instance.&lt;/p&gt;</span>
<span class="c">     * @param {String/HTMLElement} el The element to make a unit.</span>
<span class="c">     * @param {Object} attrs Object liternal containing configuration parameters.</span>
<span class="c">    */</span>

    <span class="k">var</span> <span class="nx">LayoutUnit</span> <span class="o">=</span> <span class="k">function</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="nx">config</span><span class="o">)</span> <span class="o">{</span>
        
        <span class="k">var</span> <span class="nx">oConfig</span> <span class="o">=</span> <span class="o">{</span>
            <span class="nx">element</span><span class="o">:</span> <span class="nx">el</span><span class="o">,</span>
            <span class="nx">attributes</span><span class="o">:</span> <span class="nx">config</span> <span class="o">||</span> <span class="o">{}</span>
        <span class="o">};</span>

        <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">superclass</span><span class="o">.</span><span class="nx">constructor</span><span class="o">.</span><span class="nx">call</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">oConfig</span><span class="o">.</span><span class="nx">element</span><span class="o">,</span> <span class="nx">oConfig</span><span class="o">.</span><span class="nx">attributes</span><span class="o">);</span>    
    <span class="o">};</span>

    <span class="c">/**</span>
<span class="c">    * @private</span>
<span class="c">    * @static</span>
<span class="c">    * @property _instances</span>
<span class="c">    * @description Internal hash table for all layout unit instances</span>
<span class="c">    * @type Object</span>
<span class="c">    */</span> 
    <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">_instances</span> <span class="o">=</span> <span class="o">{};</span>
    <span class="c">/**</span>
<span class="c">    * @static</span>
<span class="c">    * @method getLayoutUnitById </span>
<span class="c">    * @description Get&#39;s a layout unit object by the HTML id of the element associated with the Layout Unit object.</span>
<span class="c">    * @return {Object} The Layout Object</span>
<span class="c">    */</span> 
    <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">getLayoutUnitById</span> <span class="o">=</span> <span class="k">function</span><span class="o">(</span><span class="nx">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">_instances</span><span class="o">[</span><span class="nx">id</span><span class="o">])</span> <span class="o">{</span>
            <span class="k">return</span> <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">_instances</span><span class="o">[</span><span class="nx">id</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">};</span>

    <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">extend</span><span class="o">(</span><span class="nx">LayoutUnit</span><span class="o">,</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Element</span><span class="o">,</span> <span class="o">{</span>
        <span class="c">/**</span>
<span class="c">        * @property STR_CLOSE</span>
<span class="c">        * @description String used for close button title</span>
<span class="c">        * @type {String}</span>
<span class="c">        */</span>
        <span class="nx">STR_CLOSE</span><span class="o">:</span> <span class="s1">&#39;Click to close this pane.&#39;</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @property STR_COLLAPSE</span>
<span class="c">        * @description String used for collapse button title</span>
<span class="c">        * @type {String}</span>
<span class="c">        */</span>
        <span class="nx">STR_COLLAPSE</span><span class="o">:</span> <span class="s1">&#39;Click to collapse this pane.&#39;</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @property STR_EXPAND</span>
<span class="c">        * @description String used for expand button title</span>
<span class="c">        * @type {String}</span>
<span class="c">        */</span>
        <span class="nx">STR_EXPAND</span><span class="o">:</span> <span class="s1">&#39;Click to expand this pane.&#39;</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @property browser</span>
<span class="c">        * @description A modified version of the YAHOO.env.ua object</span>
<span class="c">        * @type Object</span>
<span class="c">        */</span>
        <span class="nx">browser</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _sizes</span>
<span class="c">        * @description A collection of the current sizes of the contents of this Layout Unit</span>
<span class="c">        * @type Object</span>
<span class="c">        */</span>
        <span class="nx">_sizes</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _anim</span>
<span class="c">        * @description A reference to the Animation instance used by this LayouUnit</span>
<span class="c">        * @type YAHOO.util.Anim</span>
<span class="c">        */</span>
        <span class="nx">_anim</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _resize</span>
<span class="c">        * @description A reference to the Resize instance used by this LayoutUnit</span>
<span class="c">        * @type YAHOO.util.Resize</span>
<span class="c">        */</span>
        <span class="nx">_resize</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _clip</span>
<span class="c">        * @description A reference to the clip element used when collapsing the unit</span>
<span class="c">        * @type HTMLElement</span>
<span class="c">        */</span>
        <span class="nx">_clip</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _gutter</span>
<span class="c">        * @description A simple hash table used to store the gutter to apply to the Unit</span>
<span class="c">        * @type Object</span>
<span class="c">        */</span>
        <span class="nx">_gutter</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @property header</span>
<span class="c">        * @description A reference to the HTML element used for the Header</span>
<span class="c">        * @type HTMLELement</span>
<span class="c">        */</span>
        <span class="nx">header</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @property body</span>
<span class="c">        * @description A reference to the HTML element used for the body</span>
<span class="c">        * @type HTMLElement</span>
<span class="c">        */</span>
        <span class="nx">body</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @property footer</span>
<span class="c">        * @description A reference to the HTML element used for the footer</span>
<span class="c">        * @type HTMLElement</span>
<span class="c">        */</span>
        <span class="nx">footer</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _collapsed</span>
<span class="c">        * @description Flag to determine if the unit is collapsed or not.</span>
<span class="c">        * @type Boolean</span>
<span class="c">        */</span>
        <span class="nx">_collapsed</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _collapsing</span>
<span class="c">        * @description A flag set while the unit is being collapsed, used so we don&#39;t fire events while animating the size</span>
<span class="c">        * @type Boolean</span>
<span class="c">        */</span>
        <span class="nx">_collapsing</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _lastWidth</span>
<span class="c">        * @description A holder for the last known width of the unit</span>
<span class="c">        * @type Number</span>
<span class="c">        */</span>
        <span class="nx">_lastWidth</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _lastHeight</span>
<span class="c">        * @description A holder for the last known height of the unit</span>
<span class="c">        * @type Number</span>
<span class="c">        */</span>
        <span class="nx">_lastHeight</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _lastTop</span>
<span class="c">        * @description A holder for the last known top of the unit</span>
<span class="c">        * @type Number</span>
<span class="c">        */</span>
        <span class="nx">_lastTop</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _lastLeft</span>
<span class="c">        * @description A holder for the last known left of the unit</span>
<span class="c">        * @type Number</span>
<span class="c">        */</span>
        <span class="nx">_lastLeft</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _lastScroll</span>
<span class="c">        * @description A holder for the last known scroll state of the unit</span>
<span class="c">        * @type Boolean</span>
<span class="c">        */</span>
        <span class="nx">_lastScroll</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _lastCenetrScroll</span>
<span class="c">        * @description A holder for the last known scroll state of the center unit</span>
<span class="c">        * @type Boolean</span>
<span class="c">        */</span>
        <span class="nx">_lastCenterScroll</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @property _lastScrollTop</span>
<span class="c">        * @description A holder for the last known scrollTop state of the unit</span>
<span class="c">        * @type Number</span>
<span class="c">        */</span>
        <span class="nx">_lastScrollTop</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
        <span class="c">/**</span>
<span class="c">        * @method resize</span>
<span class="c">        * @description Resize either the unit or it&#39;s clipped state, also updating the box inside</span>
<span class="c">        * @param {Boolean} force This will force full calculations even when the unit is collapsed</span>
<span class="c">        * @return {&lt;a href=&quot;YAHOO.widget.LayoutUnit.html&quot;&gt;YAHOO.widget.LayoutUnit&lt;/a&gt;} The LayoutUnit instance</span>
<span class="c">        */</span>
        <span class="nx">resize</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">force</span><span class="o">)</span> <span class="o">{</span>
            <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">log</span><span class="o">(</span><span class="s1">&#39;Resize&#39;</span><span class="o">,</span> <span class="s1">&#39;info&#39;</span><span class="o">,</span> <span class="s1">&#39;LayoutUnit&#39;</span><span class="o">);</span>
            <span class="k">var</span> <span class="nx">retVal</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;beforeResize&#39;</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">retVal</span> <span class="o">===</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span> <span class="o">||</span> <span class="o">(</span><span class="nx">force</span> <span class="o">===</span> <span class="kc">true</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">var</span> <span class="nx">scroll</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>


                <span class="k">var</span> <span class="nx">hd</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBoxSize</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">),</span>
                    <span class="nx">ft</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBoxSize</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">),</span>
                    <span class="nx">box</span> <span class="o">=</span> <span class="o">[</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">),</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">)];</span>


                <span class="k">var</span> <span class="nx">nh</span> <span class="o">=</span> <span class="o">(</span><span class="nx">box</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">-</span> <span class="nx">hd</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">-</span> <span class="nx">ft</span><span class="o">[</span><span class="m">0</span><span class="o">])</span> <span class="o">-</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">bottom</span><span class="o">),</span>
                    <span class="nx">nw</span> <span class="o">=</span> <span class="nx">box</span><span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">-</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">right</span><span class="o">);</span>

                <span class="k">var</span> <span class="nx">wrapH</span> <span class="o">=</span> <span class="o">(</span><span class="nx">nh</span> <span class="o">+</span> <span class="o">(</span><span class="nx">hd</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">+</span> <span class="nx">ft</span><span class="o">[</span><span class="m">0</span><span class="o">])),</span>
                    <span class="nx">wrapW</span> <span class="o">=</span> <span class="nx">nw</span><span class="o">;</span>

                <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_setHeight</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="nx">wrapH</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_setWidth</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="nx">wrapW</span><span class="o">);</span>
                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;left&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span> <span class="o">||</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span><span class="o">))</span> <span class="o">{</span>
                    <span class="nx">wrapH</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_setHeight</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">),</span> <span class="nx">wrapH</span><span class="o">);</span>
                    <span class="nx">wrapW</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_setWidth</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">),</span> <span class="nx">wrapW</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">.</span><span class="nx">wrap</span><span class="o">.</span><span class="nx">h</span> <span class="o">=</span> <span class="nx">wrapH</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">.</span><span class="nx">wrap</span><span class="o">.</span><span class="nx">w</span> <span class="o">=</span> <span class="nx">wrapW</span><span class="o">;</span>

                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">),</span> <span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">),</span> <span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>

                    <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">.</span><span class="nx">header</span><span class="o">.</span><span class="nx">w</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_setWidth</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">,</span> <span class="nx">wrapW</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">.</span><span class="nx">header</span><span class="o">.</span><span class="nx">h</span> <span class="o">=</span> <span class="nx">hd</span><span class="o">[</span><span class="m">0</span><span class="o">];</span>

                    <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">.</span><span class="nx">footer</span><span class="o">.</span><span class="nx">w</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_setWidth</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">,</span> <span class="nx">wrapW</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">.</span><span class="nx">footer</span><span class="o">.</span><span class="nx">h</span> <span class="o">=</span> <span class="nx">ft</span><span class="o">[</span><span class="m">0</span><span class="o">];</span>

                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">,</span> <span class="s1">&#39;bottom&#39;</span><span class="o">,</span> <span class="s1">&#39;0px&#39;</span><span class="o">);</span>

                    <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">h</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_setHeight</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="o">(</span><span class="nx">wrapH</span> <span class="o">-</span> <span class="o">(</span><span class="nx">hd</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">+</span> <span class="nx">ft</span><span class="o">[</span><span class="m">0</span><span class="o">])));</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">w</span> <span class="o">=</span><span class="k">this</span><span class="o">.</span><span class="nx">_setWidth</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="nx">wrapW</span><span class="o">);</span>
                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="nx">hd</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>

                    <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="nx">scroll</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;resize&#39;</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _setWidth</span>
<span class="c">        * @description Sets the width of the element based on the border size of the element.</span>
<span class="c">        * @param {HTMLElement} el The HTMLElement to have it&#39;s width set</span>
<span class="c">        * @param {Number} w The width that you want it the element set to</span>
<span class="c">        * @return {Number} The new width, fixed for borders and IE QuirksMode</span>
<span class="c">        */</span>
        <span class="nx">_setWidth</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="nx">w</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">el</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBorderSizes</span><span class="o">(</span><span class="nx">el</span><span class="o">);</span>
                <span class="nx">w</span> <span class="o">=</span> <span class="o">(</span><span class="nx">w</span> <span class="o">-</span> <span class="o">(</span><span class="nx">b</span><span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">+</span> <span class="nx">b</span><span class="o">[</span><span class="m">3</span><span class="o">]));</span>
                <span class="nx">w</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_fixQuirks</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="nx">w</span><span class="o">,</span> <span class="s1">&#39;w&#39;</span><span class="o">);</span>
                <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="nx">w</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="nx">w</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _setHeight</span>
<span class="c">        * @description Sets the height of the element based on the border size of the element.</span>
<span class="c">        * @param {HTMLElement} el The HTMLElement to have it&#39;s height set</span>
<span class="c">        * @param {Number} h The height that you want it the element set to</span>
<span class="c">        * @return {Number} The new height, fixed for borders and IE QuirksMode</span>
<span class="c">        */</span>
        <span class="nx">_setHeight</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="nx">h</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">el</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBorderSizes</span><span class="o">(</span><span class="nx">el</span><span class="o">);</span>
                <span class="nx">h</span> <span class="o">=</span> <span class="o">(</span><span class="nx">h</span> <span class="o">-</span> <span class="o">(</span><span class="nx">b</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">+</span> <span class="nx">b</span><span class="o">[</span><span class="m">2</span><span class="o">]));</span>
                <span class="nx">h</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_fixQuirks</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="nx">h</span><span class="o">,</span> <span class="s1">&#39;h&#39;</span><span class="o">);</span>
                <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="nx">h</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="nx">h</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _fixQuirks</span>
<span class="c">        * @description Fixes the box calculations for IE in QuirksMode</span>
<span class="c">        * @param {HTMLElement} el The HTMLElement to set the dimension on</span>
<span class="c">        * @param {Number} dim The number of the dimension to fix</span>
<span class="c">        * @param {String} side The dimension (h or w) to fix. Defaults to h</span>
<span class="c">        * @return {Number} The fixed dimension</span>
<span class="c">        */</span>
        <span class="nx">_fixQuirks</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="nx">dim</span><span class="o">,</span> <span class="nx">side</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">var</span> <span class="nx">i1</span> <span class="o">=</span> <span class="m">0</span><span class="o">,</span> <span class="nx">i2</span> <span class="o">=</span> <span class="m">2</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">side</span> <span class="o">==</span> <span class="s1">&#39;w&#39;</span><span class="o">)</span> <span class="o">{</span>
                <span class="nx">i1</span> <span class="o">=</span> <span class="m">1</span><span class="o">;</span>
                <span class="nx">i2</span> <span class="o">=</span> <span class="m">3</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">browser</span><span class="o">.</span><span class="nx">ie</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="o">.</span><span class="nx">browser</span><span class="o">.</span><span class="nx">standardsMode</span><span class="o">)</span> <span class="o">{</span>
                <span class="c">//Internet Explorer - Quirks Mode</span>
<span class="c"></span>                <span class="k">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBorderSizes</span><span class="o">(</span><span class="nx">el</span><span class="o">),</span>
                    <span class="nx">bp</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBorderSizes</span><span class="o">(</span><span class="nx">el</span><span class="o">.</span><span class="nx">parentNode</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">((</span><span class="nx">b</span><span class="o">[</span><span class="nx">i1</span><span class="o">]</span> <span class="o">===</span> <span class="m">0</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="nx">b</span><span class="o">[</span><span class="nx">i2</span><span class="o">]</span> <span class="o">===</span> <span class="m">0</span><span class="o">))</span> <span class="o">{</span> <span class="c">//No Borders, check parent</span>
<span class="c"></span>                    <span class="k">if</span> <span class="o">((</span><span class="nx">bp</span><span class="o">[</span><span class="nx">i1</span><span class="o">]</span> <span class="o">!==</span> <span class="m">0</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="nx">bp</span><span class="o">[</span><span class="nx">i2</span><span class="o">]</span> <span class="o">!==</span> <span class="m">0</span><span class="o">))</span> <span class="o">{</span> <span class="c">//Parent has Borders</span>
<span class="c"></span>                        <span class="nx">dim</span> <span class="o">=</span> <span class="o">(</span><span class="nx">dim</span> <span class="o">-</span> <span class="o">(</span><span class="nx">bp</span><span class="o">[</span><span class="nx">i1</span><span class="o">]</span> <span class="o">+</span> <span class="nx">bp</span><span class="o">[</span><span class="nx">i2</span><span class="o">]));</span>
                    <span class="o">}</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">((</span><span class="nx">bp</span><span class="o">[</span><span class="nx">i1</span><span class="o">]</span> <span class="o">===</span> <span class="m">0</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="nx">bp</span><span class="o">[</span><span class="nx">i2</span><span class="o">]</span> <span class="o">===</span> <span class="m">0</span><span class="o">))</span> <span class="o">{</span>
                        <span class="nx">dim</span> <span class="o">=</span> <span class="o">(</span><span class="nx">dim</span> <span class="o">+</span> <span class="o">(</span><span class="nx">b</span><span class="o">[</span><span class="nx">i1</span><span class="o">]</span> <span class="o">+</span> <span class="nx">b</span><span class="o">[</span><span class="nx">i2</span><span class="o">]));</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="nx">dim</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _getBoxSize</span>
<span class="c">        * @description Get&#39;s the elements clientHeight and clientWidth plus the size of the borders</span>
<span class="c">        * @param {HTMLElement} el The HTMLElement to get the size of</span>
<span class="c">        * @return {Array} An array of height and width</span>
<span class="c">        */</span>
        <span class="nx">_getBoxSize</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">el</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="o">[</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">];</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">el</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">browser</span><span class="o">.</span><span class="nx">ie</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="o">.</span><span class="nx">browser</span><span class="o">.</span><span class="nx">standardsMode</span><span class="o">)</span> <span class="o">{</span>
                    <span class="nx">el</span><span class="o">.</span><span class="nx">style</span><span class="o">.</span><span class="nx">zoom</span> <span class="o">=</span> <span class="m">1</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBorderSizes</span><span class="o">(</span><span class="nx">el</span><span class="o">);</span>
                <span class="nx">size</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">=</span> <span class="nx">el</span><span class="o">.</span><span class="nx">clientHeight</span> <span class="o">+</span> <span class="o">(</span><span class="nx">b</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">+</span> <span class="nx">b</span><span class="o">[</span><span class="m">2</span><span class="o">]);</span>
                <span class="nx">size</span><span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">=</span> <span class="nx">el</span><span class="o">.</span><span class="nx">clientWidth</span> <span class="o">+</span> <span class="o">(</span><span class="nx">b</span><span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">+</span> <span class="nx">b</span><span class="o">[</span><span class="m">3</span><span class="o">]);</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="nx">size</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _getBorderSizes</span>
<span class="c">        * @description Get the CSS border size of the element passed.</span>
<span class="c">        * @param {HTMLElement} el The element to get the border size of</span>
<span class="c">        * @return {Array} An array of the top, right, bottom, left borders.</span>
<span class="c">        */</span>
        <span class="nx">_getBorderSizes</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">el</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="o">[];</span>
            <span class="nx">el</span> <span class="o">=</span> <span class="nx">el</span> <span class="o">||</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;element&#39;</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">browser</span><span class="o">.</span><span class="nx">ie</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="o">.</span><span class="nx">browser</span><span class="o">.</span><span class="nx">standardsMode</span><span class="o">)</span> <span class="o">{</span>
                <span class="nx">el</span><span class="o">.</span><span class="nx">style</span><span class="o">.</span><span class="nx">zoom</span> <span class="o">=</span> <span class="m">1</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="nx">s</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="nx">Dom</span><span class="o">.</span><span class="nx">getStyle</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="s1">&#39;borderTopWidth&#39;</span><span class="o">),</span> <span class="m">10</span><span class="o">);</span>
            <span class="nx">s</span><span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="nx">Dom</span><span class="o">.</span><span class="nx">getStyle</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="s1">&#39;borderRightWidth&#39;</span><span class="o">),</span> <span class="m">10</span><span class="o">);</span>
            <span class="nx">s</span><span class="o">[</span><span class="m">2</span><span class="o">]</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="nx">Dom</span><span class="o">.</span><span class="nx">getStyle</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="s1">&#39;borderBottomWidth&#39;</span><span class="o">),</span> <span class="m">10</span><span class="o">);</span>
            <span class="nx">s</span><span class="o">[</span><span class="m">3</span><span class="o">]</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="nx">Dom</span><span class="o">.</span><span class="nx">getStyle</span><span class="o">(</span><span class="nx">el</span><span class="o">,</span> <span class="s1">&#39;borderLeftWidth&#39;</span><span class="o">),</span> <span class="m">10</span><span class="o">);</span>
            
            <span class="c">//IE will return NaN on these if they are set to auto, we&#39;ll set them to 0</span>
<span class="c"></span>            <span class="k">for</span> <span class="o">(</span><span class="k">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="m">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">s</span><span class="o">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="nb">isNaN</span><span class="o">(</span><span class="nx">s</span><span class="o">[</span><span class="nx">i</span><span class="o">]))</span> <span class="o">{</span>
                    <span class="nx">s</span><span class="o">[</span><span class="nx">i</span><span class="o">]</span> <span class="o">=</span> <span class="m">0</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="nx">s</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _createClip</span>
<span class="c">        * @description Create the clip element used when the Unit is collapsed</span>
<span class="c">        */</span>
        <span class="nx">_createClip</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_clip</span> <span class="o">=</span> <span class="nb">document</span><span class="o">.</span><span class="nx">createElement</span><span class="o">(</span><span class="s1">&#39;div&#39;</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;yui-layout-clip yui-layout-clip-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;div class=&quot;collapse&quot;&gt;&lt;/div&gt;&#39;</span><span class="o">;</span>
                <span class="k">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">.</span><span class="nx">firstChild</span><span class="o">;</span>
                <span class="nx">c</span><span class="o">.</span><span class="nx">title</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">STR_EXPAND</span><span class="o">;</span>
                <span class="nx">Event</span><span class="o">.</span><span class="nx">on</span><span class="o">(</span><span class="nx">c</span><span class="o">,</span> <span class="s1">&#39;click&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">expand</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;element&#39;</span><span class="o">).</span><span class="nx">parentNode</span><span class="o">.</span><span class="nx">appendChild</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _toggleClip</span>
<span class="c">        * @description Toggle th current state of the Clip element and set it&#39;s height, width and position</span>
<span class="c">        */</span>
        <span class="nx">_toggleClip</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span><span class="o">)</span> <span class="o">{</span>
                <span class="c">//show</span>
<span class="c"></span>                <span class="k">var</span> <span class="nx">hd</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBoxSize</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">),</span>
                    <span class="nx">ft</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_getBoxSize</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">),</span>
                    <span class="nx">box</span> <span class="o">=</span> <span class="o">[</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">),</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">)];</span>


                <span class="k">var</span> <span class="nx">nh</span> <span class="o">=</span> <span class="o">(</span><span class="nx">box</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">-</span> <span class="nx">hd</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">-</span> <span class="nx">ft</span><span class="o">[</span><span class="m">0</span><span class="o">])</span> <span class="o">-</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">bottom</span><span class="o">),</span>
                    <span class="nx">nw</span> <span class="o">=</span> <span class="nx">box</span><span class="o">[</span><span class="m">1</span><span class="o">]</span> <span class="o">-</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">right</span><span class="o">),</span>
                    <span class="nx">wrapH</span> <span class="o">=</span> <span class="o">(</span><span class="nx">nh</span> <span class="o">+</span> <span class="o">(</span><span class="nx">hd</span><span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">+</span> <span class="nx">ft</span><span class="o">[</span><span class="m">0</span><span class="o">]));</span>

                <span class="nx">switch</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">))</span> <span class="o">{</span>
                    <span class="nx">case</span> <span class="s1">&#39;top&#39;</span><span class="o">:</span>
                    <span class="nx">case</span> <span class="s1">&#39;bottom&#39;</span><span class="o">:</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_setWidth</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="nx">nw</span><span class="o">);</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_setHeight</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;collapseSize&#39;</span><span class="o">));</span>
                        <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastLeft</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span><span class="o">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)</span> <span class="o">==</span> <span class="s1">&#39;bottom&#39;</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastTop</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastHeight</span><span class="o">)</span> <span class="o">-</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;collapseSize&#39;</span><span class="o">)</span> <span class="o">-</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span><span class="o">))</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="o">}</span>
                        <span class="k">break</span><span class="o">;</span>
                    <span class="nx">case</span> <span class="s1">&#39;left&#39;</span><span class="o">:</span>
                    <span class="nx">case</span> <span class="s1">&#39;right&#39;</span><span class="o">:</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_setWidth</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;collapseSize&#39;</span><span class="o">));</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_setHeight</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="nx">wrapH</span><span class="o">);</span>
                        <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span><span class="o">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="o">(((</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastLeft</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastWidth</span><span class="o">)</span> <span class="o">-</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;collapseSize&#39;</span><span class="o">))</span> <span class="o">-</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span><span class="o">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;left&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span><span class="o">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="o">}</span>
                        <span class="k">break</span><span class="o">;</span>
                <span class="o">}</span>

                <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;block&#39;</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;none&#39;</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c">//Hide</span>
<span class="c"></span>                <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">,</span> <span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;none&#39;</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @method getSizes</span>
<span class="c">        * @description Get a reference to the internal sizes object for this unit</span>
<span class="c">        * @return {Object} An object of the sizes used for calculations</span>
<span class="c">        */</span>
        <span class="nx">getSizes</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @method toggle</span>
<span class="c">        * @description Toggles the Unit, replacing it with a clipped version.</span>
<span class="c">        * @return {&lt;a href=&quot;YAHOO.widget.LayoutUnit.html&quot;&gt;YAHOO.widget.LayoutUnit&lt;/a&gt;} The LayoutUnit instance</span>
<span class="c">        */</span>
        <span class="nx">toggle</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">expand</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">collapse</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @method expand</span>
<span class="c">        * @description Expand the Unit if it is collapsed.</span>
<span class="c">        * @return {&lt;a href=&quot;YAHOO.widget.LayoutUnit.html&quot;&gt;YAHOO.widget.LayoutUnit&lt;/a&gt;} The LayoutUnit instance</span>
<span class="c">        */</span>
        <span class="nx">expand</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">var</span> <span class="nx">retVal</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;beforeExpand&#39;</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">retVal</span> <span class="o">===</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;zIndex&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">_zIndex</span> <span class="o">+</span> <span class="m">1</span><span class="o">);</span>

            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;none&#39;</span><span class="o">);</span>
                <span class="c">//Animation Fails Here</span>
<span class="c"></span>                <span class="k">var</span> <span class="nx">attr</span> <span class="o">=</span> <span class="o">{},</span> <span class="nx">s</span><span class="o">;</span>

                <span class="nx">switch</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">))</span> <span class="o">{</span>
                    <span class="nx">case</span> <span class="s1">&#39;left&#39;</span><span class="o">:</span>
                    <span class="nx">case</span> <span class="s1">&#39;right&#39;</span><span class="o">:</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastWidth</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastWidth</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">resize</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
                        <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">getSizes</span><span class="o">()[</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)];</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="nx">s</span><span class="o">.</span><span class="nx">h</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="k">var</span> <span class="nx">left</span> <span class="o">=</span> <span class="nx">s</span><span class="o">.</span><span class="nx">l</span><span class="o">;</span>
                        <span class="nx">attr</span> <span class="o">=</span> <span class="o">{</span>
                            <span class="nx">left</span><span class="o">:</span> <span class="o">{</span>
                                <span class="nx">to</span><span class="o">:</span> <span class="nx">left</span>
                            <span class="o">}</span>
                        <span class="o">};</span>
                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">attr</span><span class="o">.</span><span class="nx">left</span><span class="o">.</span><span class="nx">from</span> <span class="o">=</span> <span class="o">(</span><span class="nx">left</span> <span class="o">-</span> <span class="nx">s</span><span class="o">.</span><span class="nx">w</span><span class="o">);</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="o">(</span><span class="nx">left</span> <span class="o">-</span> <span class="nx">s</span><span class="o">.</span><span class="nx">w</span><span class="o">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="o">}</span>
                        <span class="k">break</span><span class="o">;</span>
                    <span class="nx">case</span> <span class="s1">&#39;top&#39;</span><span class="o">:</span>
                    <span class="nx">case</span> <span class="s1">&#39;bottom&#39;</span><span class="o">:</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastHeight</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastHeight</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">resize</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
                        <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">getSizes</span><span class="o">()[</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)];</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="nx">s</span><span class="o">.</span><span class="nx">w</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="k">var</span> <span class="nx">top</span> <span class="o">=</span> <span class="nx">s</span><span class="o">.</span><span class="nx">t</span><span class="o">;</span>
                        <span class="nx">attr</span> <span class="o">=</span> <span class="o">{</span>
                            <span class="nx">top</span><span class="o">:</span> <span class="o">{</span>
                                <span class="nx">to</span><span class="o">:</span> <span class="nx">top</span>
                            <span class="o">}</span>
                        <span class="o">};</span>
                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)</span> <span class="o">==</span> <span class="s1">&#39;top&#39;</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">,</span>  <span class="o">(</span><span class="nx">top</span> <span class="o">-</span> <span class="nx">s</span><span class="o">.</span><span class="nx">h</span><span class="o">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                            <span class="nx">attr</span><span class="o">.</span><span class="nx">top</span><span class="o">.</span><span class="nx">from</span> <span class="o">=</span> <span class="o">(</span><span class="nx">top</span> <span class="o">-</span> <span class="nx">s</span><span class="o">.</span><span class="nx">h</span><span class="o">);</span>
                        <span class="o">}</span>
                        <span class="k">break</span><span class="o">;</span>
                <span class="o">}</span>

                <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">attributes</span> <span class="o">=</span> <span class="nx">attr</span><span class="o">;</span>
                <span class="k">var</span> <span class="nx">exStart</span> <span class="o">=</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;block&#39;</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">resize</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">onStart</span><span class="o">.</span><span class="nx">unsubscribe</span><span class="o">(</span><span class="nx">exStart</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="o">};</span>
                <span class="k">var</span> <span class="nx">expand</span> <span class="o">=</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;zIndex&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">_zIndex</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastWidth</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastHeight</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">resize</span><span class="o">();</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastScroll</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span> <span class="o">&gt;</span> <span class="m">0</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">onComplete</span><span class="o">.</span><span class="nx">unsubscribe</span><span class="o">(</span><span class="nx">expand</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;expand&#39;</span><span class="o">);</span>
                <span class="o">};</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">onStart</span><span class="o">.</span><span class="nx">subscribe</span><span class="o">(</span><span class="nx">exStart</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">onComplete</span><span class="o">.</span><span class="nx">subscribe</span><span class="o">(</span><span class="nx">expand</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">animate</span><span class="o">();</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_toggleClip</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_toggleClip</span><span class="o">();</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;zIndex&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">_zIndex</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;block&#39;</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastWidth</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastHeight</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">resize</span><span class="o">();</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastScroll</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span> <span class="o">&gt;</span> <span class="m">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;expand&#39;</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @method collapse</span>
<span class="c">        * @description Collapse the Unit if it is not collapsed.</span>
<span class="c">        * @return {&lt;a href=&quot;YAHOO.widget.LayoutUnit.html&quot;&gt;YAHOO.widget.LayoutUnit&lt;/a&gt;} The LayoutUnit instance</span>
<span class="c">        */</span>
        <span class="nx">collapse</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">var</span> <span class="nx">retValue</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;beforeCollapse&#39;</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">retValue</span> <span class="o">===</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_createClip</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">),</span>
                <span class="nx">h</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">),</span>
                <span class="nx">attr</span> <span class="o">=</span> <span class="o">{};</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_lastWidth</span> <span class="o">=</span> <span class="nx">w</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_lastHeight</span> <span class="o">=</span> <span class="nx">h</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_lastScroll</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">scrollTop</span><span class="o">;</span>            
            <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="kc">false</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_lastLeft</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;element&#39;</span><span class="o">).</span><span class="nx">style</span><span class="o">.</span><span class="nx">left</span><span class="o">,</span> <span class="m">10</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_lastTop</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;element&#39;</span><span class="o">).</span><span class="nx">style</span><span class="o">.</span><span class="nx">top</span><span class="o">,</span> <span class="m">10</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="nb">isNaN</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastTop</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_lastTop</span> <span class="o">=</span> <span class="m">0</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="m">0</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="nb">isNaN</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastLeft</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_lastLeft</span> <span class="o">=</span> <span class="m">0</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="m">0</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;zIndex&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">_zIndex</span> <span class="o">+</span> <span class="m">1</span><span class="o">);</span>
            <span class="k">var</span> <span class="nx">pos</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">);</span>

            <span class="nx">switch</span> <span class="o">(</span><span class="nx">pos</span><span class="o">)</span> <span class="o">{</span>
                <span class="nx">case</span> <span class="s1">&#39;top&#39;</span><span class="o">:</span>
                <span class="nx">case</span> <span class="s1">&#39;bottom&#39;</span><span class="o">:</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;collapseSize&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">bottom</span><span class="o">)));</span>
                    <span class="nx">attr</span> <span class="o">=</span> <span class="o">{</span>
                        <span class="nx">top</span><span class="o">:</span> <span class="o">{</span>
                            <span class="nx">to</span><span class="o">:</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">)</span> <span class="o">-</span> <span class="nx">h</span><span class="o">)</span>
                        <span class="o">}</span>
                    <span class="o">};</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">pos</span> <span class="o">==</span> <span class="s1">&#39;bottom&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">attr</span><span class="o">.</span><span class="nx">top</span><span class="o">.</span><span class="nx">to</span> <span class="o">=</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="nx">h</span><span class="o">);</span>
                    <span class="o">}</span>
                    <span class="k">break</span><span class="o">;</span>
                <span class="nx">case</span> <span class="s1">&#39;left&#39;</span><span class="o">:</span>
                <span class="nx">case</span> <span class="s1">&#39;right&#39;</span><span class="o">:</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;collapseSize&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">right</span><span class="o">)));</span>
                    <span class="nx">attr</span> <span class="o">=</span> <span class="o">{</span>
                        <span class="nx">left</span><span class="o">:</span> <span class="o">{</span>
                            <span class="nx">to</span><span class="o">:</span> <span class="o">-(</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastWidth</span><span class="o">)</span>
                        <span class="o">}</span>
                    <span class="o">};</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">pos</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">attr</span><span class="o">.</span><span class="nx">left</span> <span class="o">=</span> <span class="o">{</span>
                            <span class="nx">to</span><span class="o">:</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;left&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="nx">w</span><span class="o">)</span>
                        <span class="o">};</span>
                    <span class="o">}</span>
                    <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">attributes</span> <span class="o">=</span> <span class="nx">attr</span><span class="o">;</span>
                <span class="k">var</span> <span class="nx">collapse</span> <span class="o">=</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_toggleClip</span><span class="o">();</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;zIndex&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">_zIndex</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">resize</span><span class="o">();</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">onComplete</span><span class="o">.</span><span class="nx">unsubscribe</span><span class="o">(</span><span class="nx">collapse</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;collapse&#39;</span><span class="o">);</span>
                <span class="o">};</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">onComplete</span><span class="o">.</span><span class="nx">subscribe</span><span class="o">(</span><span class="nx">collapse</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span><span class="o">.</span><span class="nx">animate</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;none&#39;</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_toggleClip</span><span class="o">();</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;zIndex&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">_zIndex</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">resize</span><span class="o">();</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;collapse&#39;</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @method close</span>
<span class="c">        * @description Close the unit, removing it from the parent Layout.</span>
<span class="c">        * @return {&lt;a href=&quot;YAHOO.widget.Layout.html&quot;&gt;YAHOO.widget.Layout&lt;/a&gt;} The parent Layout instance</span>
<span class="c">        */</span>
        <span class="nx">close</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;none&#39;</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">removeUnit</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;close&#39;</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">.</span><span class="nx">parentNode</span><span class="o">.</span><span class="nx">removeChild</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_clip</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">);</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method init</span>
<span class="c">        * @description The initalization method inherited from Element.</span>
<span class="c">        */</span>
        <span class="nx">init</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">p_oElement</span><span class="o">,</span> <span class="nx">p_oAttributes</span><span class="o">)</span> <span class="o">{</span>
            <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">log</span><span class="o">(</span><span class="s1">&#39;init&#39;</span><span class="o">,</span> <span class="s1">&#39;info&#39;</span><span class="o">,</span> <span class="s1">&#39;LayoutUnit&#39;</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span> <span class="o">=</span> <span class="o">{</span>
                <span class="nx">left</span><span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                <span class="nx">right</span><span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                <span class="nx">top</span><span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                <span class="nx">bottom</span><span class="o">:</span> <span class="m">0</span>
            <span class="o">};</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_sizes</span> <span class="o">=</span> <span class="o">{</span>
                <span class="nx">wrap</span><span class="o">:</span> <span class="o">{</span>
                    <span class="nx">h</span><span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                    <span class="nx">w</span><span class="o">:</span> <span class="m">0</span>
                <span class="o">},</span>
                <span class="nx">header</span><span class="o">:</span> <span class="o">{</span>
                    <span class="nx">h</span><span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                    <span class="nx">w</span><span class="o">:</span> <span class="m">0</span>
                <span class="o">},</span>
                <span class="nx">body</span><span class="o">:</span> <span class="o">{</span>
                    <span class="nx">h</span><span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                    <span class="nx">w</span><span class="o">:</span> <span class="m">0</span>
                <span class="o">},</span>
                <span class="nx">footer</span><span class="o">:</span> <span class="o">{</span>
                    <span class="nx">h</span><span class="o">:</span> <span class="m">0</span><span class="o">,</span>
                    <span class="nx">w</span><span class="o">:</span> <span class="m">0</span>
                <span class="o">}</span>
            <span class="o">};</span>
            
            <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">superclass</span><span class="o">.</span><span class="nx">init</span><span class="o">.</span><span class="nx">call</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">p_oElement</span><span class="o">,</span> <span class="nx">p_oAttributes</span><span class="o">);</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">browser</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">browser</span><span class="o">;</span>
            
            <span class="k">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">p_oElement</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(!</span><span class="nx">Lang</span><span class="o">.</span><span class="nx">isString</span><span class="o">(</span><span class="nx">id</span><span class="o">))</span> <span class="o">{</span>
                <span class="nx">id</span> <span class="o">=</span> <span class="nx">Dom</span><span class="o">.</span><span class="nx">generateId</span><span class="o">(</span><span class="nx">id</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">_instances</span><span class="o">[</span><span class="nx">id</span><span class="o">]</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">,</span> <span class="s1">&#39;absolute&#39;</span><span class="o">);</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">addClass</span><span class="o">(</span><span class="s1">&#39;yui-layout-unit&#39;</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">addClass</span><span class="o">(</span><span class="s1">&#39;yui-layout-unit-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">));</span>


            <span class="k">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">getElementsByClassName</span><span class="o">(</span><span class="s1">&#39;yui-layout-hd&#39;</span><span class="o">,</span> <span class="s1">&#39;div&#39;</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">header</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">header</span> <span class="o">=</span> <span class="nx">header</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">getElementsByClassName</span><span class="o">(</span><span class="s1">&#39;yui-layout-bd&#39;</span><span class="o">,</span> <span class="s1">&#39;div&#39;</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">body</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">body</span> <span class="o">=</span> <span class="nx">body</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">var</span> <span class="nx">footer</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">getElementsByClassName</span><span class="o">(</span><span class="s1">&#39;yui-layout-ft&#39;</span><span class="o">,</span> <span class="s1">&#39;div&#39;</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
            <span class="k">if</span> <span class="o">(</span><span class="nx">footer</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">footer</span> <span class="o">=</span> <span class="nx">footer</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">on</span><span class="o">(</span><span class="s1">&#39;contentChange&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">resize</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span> <span class="o">=</span> <span class="m">0</span><span class="o">;</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;animate&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;animate&#39;</span><span class="o">));</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method initAttributes</span>
<span class="c">        * @description Processes the config</span>
<span class="c">        */</span>        
        <span class="nx">initAttributes</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">attr</span><span class="o">)</span> <span class="o">{</span>
            <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">superclass</span><span class="o">.</span><span class="nx">initAttributes</span><span class="o">.</span><span class="nx">call</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">attr</span><span class="o">);</span>

            <span class="c">/**</span>
<span class="c">            * @private</span>
<span class="c">            * @attribute wrap</span>
<span class="c">            * @description A reference to the wrap element</span>
<span class="c">            * @type HTMLElement</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">wrap</span> <span class="o">||</span> <span class="kc">null</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">w</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">w</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">Dom</span><span class="o">.</span><span class="nx">generateId</span><span class="o">(</span><span class="nx">w</span><span class="o">);</span>
                        <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">_instances</span><span class="o">[</span><span class="nx">id</span><span class="o">]</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute grids</span>
<span class="c">            * @description Set this option to true if you want the LayoutUnit to fix the first layer of YUI CSS Grids (margins)</span>
<span class="c">            * @type Boolean</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;grids&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">grids</span> <span class="o">||</span> <span class="kc">false</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @private</span>
<span class="c">            * @attribute top</span>
<span class="c">            * @description The current top positioning of the Unit</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">top</span> <span class="o">||</span> <span class="m">0</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">Lang</span><span class="o">.</span><span class="nx">isNumber</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">t</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;top&#39;</span><span class="o">,</span> <span class="nx">t</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @private</span>
<span class="c">            * @attribute left</span>
<span class="c">            * @description The current left position of the Unit</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">left</span> <span class="o">||</span> <span class="m">0</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">Lang</span><span class="o">.</span><span class="nx">isNumber</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">l</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;left&#39;</span><span class="o">,</span> <span class="nx">l</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>

            <span class="c">/**</span>
<span class="c">            * @attribute minWidth</span>
<span class="c">            * @description The minWidth parameter passed to the Resize Utility</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;minWidth&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">minWidth</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">lang</span><span class="o">.</span><span class="nx">isNumber</span>
            <span class="o">});</span>

            <span class="c">/**</span>
<span class="c">            * @attribute maxWidth</span>
<span class="c">            * @description The maxWidth parameter passed to the Resize Utility</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;maxWidth&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">maxWidth</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">lang</span><span class="o">.</span><span class="nx">isNumber</span>
            <span class="o">});</span>

            <span class="c">/**</span>
<span class="c">            * @attribute minHeight</span>
<span class="c">            * @description The minHeight parameter passed to the Resize Utility</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;minHeight&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">minHeight</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">lang</span><span class="o">.</span><span class="nx">isNumber</span>
            <span class="o">});</span>

            <span class="c">/**</span>
<span class="c">            * @attribute maxHeight</span>
<span class="c">            * @description The maxHeight parameter passed to the Resize Utility</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;maxHeight&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">maxHeight</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">lang</span><span class="o">.</span><span class="nx">isNumber</span>
            <span class="o">});</span>

            <span class="c">/**</span>
<span class="c">            * @attribute height</span>
<span class="c">            * @description The height of the Unit</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">height</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">Lang</span><span class="o">.</span><span class="nx">isNumber</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">h</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="nx">h</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>

            <span class="c">/**</span>
<span class="c">            * @attribute width</span>
<span class="c">            * @description The width of the Unit</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">width</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">Lang</span><span class="o">.</span><span class="nx">isNumber</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">w</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsing</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="nx">w</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute position</span>
<span class="c">            * @description The position (top, right, bottom, left or center) of the Unit in the Layout</span>
<span class="c">            * @type {String}</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">position</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute gutter</span>
<span class="c">            * @description The gutter that we should apply to the parent Layout around this Unit. Supports standard CSS markup: (2 4 0 5) or (2) or (2 5)</span>
<span class="c">            * @type String</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;gutter&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">gutter</span> <span class="o">||</span> <span class="m">0</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">lang</span><span class="o">.</span><span class="nx">isString</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">gutter</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">gutter</span><span class="o">.</span><span class="nx">split</span><span class="o">(</span><span class="s1">&#39; &#39;</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">p</span><span class="o">.</span><span class="nx">length</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="nx">p</span><span class="o">[</span><span class="m">0</span><span class="o">],</span> <span class="m">10</span><span class="o">);</span>
                        <span class="k">if</span> <span class="o">(</span><span class="nx">p</span><span class="o">[</span><span class="m">1</span><span class="o">])</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">right</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="nx">p</span><span class="o">[</span><span class="m">1</span><span class="o">],</span> <span class="m">10</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">right</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span><span class="o">;</span>
                        <span class="o">}</span>
                        <span class="k">if</span> <span class="o">(</span><span class="nx">p</span><span class="o">[</span><span class="m">2</span><span class="o">])</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">bottom</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="nx">p</span><span class="o">[</span><span class="m">2</span><span class="o">],</span> <span class="m">10</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">bottom</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span><span class="o">;</span>
                        <span class="o">}</span>
                        <span class="k">if</span> <span class="o">(</span><span class="nx">p</span><span class="o">[</span><span class="m">3</span><span class="o">])</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="o">(</span><span class="nx">p</span><span class="o">[</span><span class="m">3</span><span class="o">],</span> <span class="m">10</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="nx">p</span><span class="o">[</span><span class="m">1</span><span class="o">])</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">right</span><span class="o">;</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">left</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_gutter</span><span class="o">.</span><span class="nx">top</span><span class="o">;</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute parent</span>
<span class="c">            * @description The parent Layout that we are assigned to</span>
<span class="c">            * @type {Object} YAHOO.widget.Layout</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">writeOnce</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">parent</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">p</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">p</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">p</span><span class="o">.</span><span class="nx">on</span><span class="o">(</span><span class="s1">&#39;resize&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">resize</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                    <span class="o">}</span>

                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute collapseSize</span>
<span class="c">            * @description The pixel size of the Clip that we will collapse to</span>
<span class="c">            * @type Number</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;collapseSize&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">collapseSize</span> <span class="o">||</span> <span class="m">25</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">lang</span><span class="o">.</span><span class="nx">isNumber</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute duration</span>
<span class="c">            * @description The duration to give the Animation Utility when animating the opening and closing of Units</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;duration&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">duration</span> <span class="o">||</span> <span class="m">0</span><span class="o">.</span><span class="m">5</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute easing</span>
<span class="c">            * @description The Animation Easing to apply to the Animation instance for this unit.</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;easing&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">easing</span> <span class="o">||</span> <span class="o">((</span><span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span> <span class="o">&amp;&amp;</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Easing</span><span class="o">)</span> <span class="o">?</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Easing</span><span class="o">.</span><span class="nx">BounceIn</span> <span class="o">:</span> <span class="s1">&#39;false&#39;</span><span class="o">)</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute animate</span>
<span class="c">            * @description Use animation to collapse/expand the unit</span>
<span class="c">            * @type Boolean</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;animate&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="o">((</span><span class="nx">attr</span><span class="o">.</span><span class="nx">animate</span> <span class="o">===</span> <span class="kc">false</span><span class="o">)</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="o">),</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
                    <span class="k">var</span> <span class="nx">anim</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Anim</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">anim</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="k">return</span> <span class="nx">anim</span><span class="o">;</span>
                <span class="o">},</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">anim</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">anim</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Anim</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;element&#39;</span><span class="o">),</span> <span class="o">{},</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;duration&#39;</span><span class="o">),</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;easing&#39;</span><span class="o">));</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_anim</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute header</span>
<span class="c">            * @description The text to use as the Header of the Unit</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;header&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">header</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">txt</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">txt</span> <span class="o">===</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
                        <span class="c">//Remove the footer</span>
<span class="c"></span>                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">Dom</span><span class="o">.</span><span class="nx">addClass</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="s1">&#39;yui-layout-bd-nohd&#39;</span><span class="o">);</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">.</span><span class="nx">parentNode</span><span class="o">.</span><span class="nx">removeChild</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">);</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">header</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
                        <span class="o">}</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">getElementsByClassName</span><span class="o">(</span><span class="s1">&#39;yui-layout-hd&#39;</span><span class="o">,</span> <span class="s1">&#39;div&#39;</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
                            <span class="k">if</span> <span class="o">(!</span><span class="nx">header</span><span class="o">)</span> <span class="o">{</span>
                                <span class="nx">header</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_createHeader</span><span class="o">();</span>
                            <span class="o">}</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">header</span> <span class="o">=</span> <span class="nx">header</span><span class="o">;</span>
                        <span class="o">}</span>
                        <span class="k">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">.</span><span class="nx">getElementsByTagName</span><span class="o">(</span><span class="s1">&#39;h2&#39;</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
                        <span class="k">if</span> <span class="o">(!</span><span class="nx">h</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">h</span> <span class="o">=</span> <span class="nb">document</span><span class="o">.</span><span class="nx">createElement</span><span class="o">(</span><span class="s1">&#39;h2&#39;</span><span class="o">);</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">.</span><span class="nx">appendChild</span><span class="o">(</span><span class="nx">h</span><span class="o">);</span>
                        <span class="o">}</span>
                        <span class="nx">h</span><span class="o">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">txt</span><span class="o">;</span>
                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">Dom</span><span class="o">.</span><span class="nx">removeClass</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="s1">&#39;yui-layout-bd-nohd&#39;</span><span class="o">);</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;contentChange&#39;</span><span class="o">,</span> <span class="o">{</span> <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;header&#39;</span> <span class="o">});</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute proxy</span>
<span class="c">            * @description Use the proxy config setting for the Resize Utility</span>
<span class="c">            * @type Boolean</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;proxy&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">writeOnce</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
                <span class="nx">value</span><span class="o">:</span> <span class="o">((</span><span class="nx">attr</span><span class="o">.</span><span class="nx">proxy</span> <span class="o">===</span> <span class="kc">false</span><span class="o">)</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="o">)</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute body</span>
<span class="c">            * @description The content for the body. If we find an element in the page with an id that matches the passed option we will move that element into the body of this unit.</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;body&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">body</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">content</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">getElementsByClassName</span><span class="o">(</span><span class="s1">&#39;yui-layout-bd&#39;</span><span class="o">,</span> <span class="s1">&#39;div&#39;</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
                        <span class="k">if</span> <span class="o">(</span><span class="nx">body</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">body</span> <span class="o">=</span> <span class="nx">body</span><span class="o">;</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="nx">body</span> <span class="o">=</span> <span class="nb">document</span><span class="o">.</span><span class="nx">createElement</span><span class="o">(</span><span class="s1">&#39;div&#39;</span><span class="o">);</span>
                            <span class="nx">body</span><span class="o">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;yui-layout-bd&#39;</span><span class="o">;</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">body</span> <span class="o">=</span> <span class="nx">body</span><span class="o">;</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">).</span><span class="nx">appendChild</span><span class="o">(</span><span class="nx">body</span><span class="o">);</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">Dom</span><span class="o">.</span><span class="nx">addClass</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="s1">&#39;yui-layout-bd-nohd&#39;</span><span class="o">);</span>
                    <span class="o">}</span>
                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">addClass</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="s1">&#39;yui-layout-bd-noft&#39;</span><span class="o">);</span>


                    <span class="k">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">Lang</span><span class="o">.</span><span class="nx">isString</span><span class="o">(</span><span class="nx">content</span><span class="o">))</span> <span class="o">{</span>
                        <span class="nx">el</span> <span class="o">=</span> <span class="nx">Dom</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="nx">content</span><span class="o">);</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="nx">content</span> <span class="o">&amp;&amp;</span> <span class="nx">content</span><span class="o">.</span><span class="nx">tagName</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">el</span> <span class="o">=</span> <span class="nx">content</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">el</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">Dom</span><span class="o">.</span><span class="nx">generateId</span><span class="o">(</span><span class="nx">el</span><span class="o">);</span>
                        <span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">_instances</span><span class="o">[</span><span class="nx">id</span><span class="o">]</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">appendChild</span><span class="o">(</span><span class="nx">el</span><span class="o">);</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">content</span><span class="o">;</span>
                    <span class="o">}</span>

                    <span class="k">this</span><span class="o">.</span><span class="nx">_cleanGrids</span><span class="o">();</span>

                    <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;contentChange&#39;</span><span class="o">,</span> <span class="o">{</span> <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;body&#39;</span> <span class="o">});</span>
                <span class="o">}</span>
            <span class="o">});</span>

            <span class="c">/**</span>
<span class="c">            * @attribute footer</span>
<span class="c">            * @description The content for the footer. If we find an element in the page with an id that matches the passed option we will move that element into the footer of this unit.</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;footer&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">footer</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">content</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">content</span> <span class="o">===</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
                        <span class="c">//Remove the footer</span>
<span class="c"></span>                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">Dom</span><span class="o">.</span><span class="nx">addClass</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="s1">&#39;yui-layout-bd-noft&#39;</span><span class="o">);</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">.</span><span class="nx">parentNode</span><span class="o">.</span><span class="nx">removeChild</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">);</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">footer</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
                        <span class="o">}</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">var</span> <span class="nx">ft</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">getElementsByClassName</span><span class="o">(</span><span class="s1">&#39;yui-layout-ft&#39;</span><span class="o">,</span> <span class="s1">&#39;div&#39;</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
                            <span class="k">if</span> <span class="o">(!</span><span class="nx">ft</span><span class="o">)</span> <span class="o">{</span>
                                <span class="nx">ft</span> <span class="o">=</span> <span class="nb">document</span><span class="o">.</span><span class="nx">createElement</span><span class="o">(</span><span class="s1">&#39;div&#39;</span><span class="o">);</span>
                                <span class="nx">ft</span><span class="o">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;yui-layout-ft&#39;</span><span class="o">;</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">footer</span> <span class="o">=</span> <span class="nx">ft</span><span class="o">;</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">).</span><span class="nx">appendChild</span><span class="o">(</span><span class="nx">ft</span><span class="o">);</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">footer</span> <span class="o">=</span> <span class="nx">ft</span><span class="o">;</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                        <span class="k">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
                        <span class="k">if</span> <span class="o">(</span><span class="nx">Lang</span><span class="o">.</span><span class="nx">isString</span><span class="o">(</span><span class="nx">content</span><span class="o">))</span> <span class="o">{</span>
                            <span class="nx">el</span> <span class="o">=</span> <span class="nx">Dom</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="nx">content</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="nx">content</span> <span class="o">&amp;&amp;</span> <span class="nx">content</span><span class="o">.</span><span class="nx">tagName</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">el</span> <span class="o">=</span> <span class="nx">content</span><span class="o">;</span>
                        <span class="o">}</span>
                        <span class="k">if</span> <span class="o">(</span><span class="nx">el</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">.</span><span class="nx">appendChild</span><span class="o">(</span><span class="nx">el</span><span class="o">);</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">footer</span><span class="o">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">content</span><span class="o">;</span>
                        <span class="o">}</span>
                        <span class="nx">Dom</span><span class="o">.</span><span class="nx">removeClass</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="s1">&#39;yui-layout-bd-noft&#39;</span><span class="o">);</span>
                    <span class="o">}</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;contentChange&#39;</span><span class="o">,</span> <span class="o">{</span> <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;footer&#39;</span> <span class="o">});</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute close</span>
<span class="c">            * @description Adds a close icon to the unit</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;close&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">close</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">close</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c">//Position Center doesn&#39;t get this</span>
<span class="c"></span>                    <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">log</span><span class="o">(</span><span class="s1">&#39;Position center unit cannot have close&#39;</span><span class="o">,</span> <span class="s1">&#39;error&#39;</span><span class="o">,</span> <span class="s1">&#39;LayoutUnit&#39;</span><span class="o">);</span>
                        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_createHeader</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">Dom</span><span class="o">.</span><span class="nx">getElementsByClassName</span><span class="o">(</span><span class="s1">&#39;close&#39;</span><span class="o">,</span> <span class="s1">&#39;div&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">close</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">if</span> <span class="o">(!</span><span class="nx">c</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">c</span> <span class="o">=</span> <span class="nb">document</span><span class="o">.</span><span class="nx">createElement</span><span class="o">(</span><span class="s1">&#39;div&#39;</span><span class="o">);</span>
                            <span class="nx">c</span><span class="o">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;close&#39;</span><span class="o">;</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">.</span><span class="nx">appendChild</span><span class="o">(</span><span class="nx">c</span><span class="o">);</span>
                            <span class="nx">Event</span><span class="o">.</span><span class="nx">on</span><span class="o">(</span><span class="nx">c</span><span class="o">,</span> <span class="s1">&#39;click&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">close</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="o">}</span>
                        <span class="nx">c</span><span class="o">.</span><span class="nx">title</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">STR_CLOSE</span><span class="o">;</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="nx">c</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">Event</span><span class="o">.</span><span class="nx">purgeElement</span><span class="o">(</span><span class="nx">c</span><span class="o">);</span>
                        <span class="nx">c</span><span class="o">.</span><span class="nx">parentNode</span><span class="o">.</span><span class="nx">removeChild</span><span class="o">(</span><span class="nx">c</span><span class="o">);</span>
                    <span class="o">}</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">_configs</span><span class="o">.</span><span class="nx">close</span><span class="o">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">close</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;collapse&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;collapse&#39;</span><span class="o">));</span> <span class="c">//Reset so we get the right classnames</span>
<span class="c"></span>                <span class="o">}</span>
            <span class="o">});</span>

            <span class="c">/**</span>
<span class="c">            * @attribute collapse</span>
<span class="c">            * @description Adds a collapse icon to the unit</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;collapse&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">collapse</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">collapse</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c">//Position Center doesn&#39;t get this</span>
<span class="c"></span>                    <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">log</span><span class="o">(</span><span class="s1">&#39;Position center unit cannot have collapse&#39;</span><span class="o">,</span> <span class="s1">&#39;error&#39;</span><span class="o">,</span> <span class="s1">&#39;LayoutUnit&#39;</span><span class="o">);</span>
                        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">_createHeader</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">Dom</span><span class="o">.</span><span class="nx">getElementsByClassName</span><span class="o">(</span><span class="s1">&#39;collapse&#39;</span><span class="o">,</span> <span class="s1">&#39;div&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">)[</span><span class="m">0</span><span class="o">];</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">collapse</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">if</span> <span class="o">(!</span><span class="nx">c</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">c</span> <span class="o">=</span> <span class="nb">document</span><span class="o">.</span><span class="nx">createElement</span><span class="o">(</span><span class="s1">&#39;div&#39;</span><span class="o">);</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">header</span><span class="o">.</span><span class="nx">appendChild</span><span class="o">(</span><span class="nx">c</span><span class="o">);</span>
                            <span class="nx">Event</span><span class="o">.</span><span class="nx">on</span><span class="o">(</span><span class="nx">c</span><span class="o">,</span> <span class="s1">&#39;click&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">collapse</span><span class="o">,</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="o">}</span>
                        <span class="nx">c</span><span class="o">.</span><span class="nx">title</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">STR_COLLAPSE</span><span class="o">;</span>
                        <span class="nx">c</span><span class="o">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;collapse&#39;</span> <span class="o">+</span> <span class="o">((</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;close&#39;</span><span class="o">))</span> <span class="o">?</span> <span class="s1">&#39; collapse-close&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="o">);</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="nx">c</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nx">Event</span><span class="o">.</span><span class="nx">purgeElement</span><span class="o">(</span><span class="nx">c</span><span class="o">);</span>
                        <span class="nx">c</span><span class="o">.</span><span class="nx">parentNode</span><span class="o">.</span><span class="nx">removeChild</span><span class="o">(</span><span class="nx">c</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute scroll</span>
<span class="c">            * @description Adds a class to the unit to allow for overflow: auto, default is overflow: hidden</span>
<span class="c">            */</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">scroll</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">scroll</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">((</span><span class="nx">scroll</span> <span class="o">===</span> <span class="kc">false</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="o">.</span><span class="nx">_collapsed</span><span class="o">)</span> <span class="o">{</span> <span class="c">//Removing scroll bar</span>
<span class="c"></span>                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">scrollTop</span> <span class="o">&gt;</span> <span class="m">0</span><span class="o">)</span> <span class="o">{</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">scrollTop</span><span class="o">;</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                    
                    <span class="k">if</span> <span class="o">(</span><span class="nx">scroll</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">addClass</span><span class="o">(</span><span class="s1">&#39;yui-layout-scroll&#39;</span><span class="o">);</span>
                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span> <span class="o">&gt;</span> <span class="m">0</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">)</span> <span class="o">{</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastScrollTop</span><span class="o">;</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="k">this</span><span class="o">.</span><span class="nx">removeClass</span><span class="o">(</span><span class="s1">&#39;yui-layout-scroll&#39;</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute hover</span>
<span class="c">            * @description Config option to pass to the Resize Utility</span>
<span class="c">            */</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;hover&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">writeOnce</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">hover</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">lang</span><span class="o">.</span><span class="nx">isBoolean</span>
            <span class="o">});</span>
            <span class="c">/**</span>
<span class="c">            * @attribute resize</span>
<span class="c">            * @description Should a Resize instance be added to this unit</span>
<span class="c">            */</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">setAttributeConfig</span><span class="o">(</span><span class="s1">&#39;resize&#39;</span><span class="o">,</span> <span class="o">{</span>
                <span class="nx">value</span><span class="o">:</span> <span class="nx">attr</span><span class="o">.</span><span class="nx">resize</span> <span class="o">||</span> <span class="kc">false</span><span class="o">,</span>
                <span class="nx">validator</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">r</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span> <span class="o">&amp;&amp;</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Resize</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
                <span class="o">},</span>
                <span class="nx">method</span><span class="o">:</span> <span class="k">function</span><span class="o">(</span><span class="nx">resize</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="nx">resize</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">)</span> <span class="o">{</span>
                        <span class="c">//Position Center doesn&#39;t get this</span>
<span class="c"></span>                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="o">)</span> <span class="o">{</span>
                            <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">log</span><span class="o">(</span><span class="s1">&#39;Position center unit cannot have resize&#39;</span><span class="o">,</span> <span class="s1">&#39;error&#39;</span><span class="o">,</span> <span class="s1">&#39;LayoutUnit&#39;</span><span class="o">);</span>
                            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
                        <span class="o">}</span>
                        <span class="k">var</span> <span class="nx">handle</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c">//To catch center</span>
<span class="c"></span>                        <span class="nx">switch</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">))</span> <span class="o">{</span>
                            <span class="nx">case</span> <span class="s1">&#39;top&#39;</span><span class="o">:</span>
                                <span class="nx">handle</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="o">;</span>
                                <span class="k">break</span><span class="o">;</span>
                            <span class="nx">case</span> <span class="s1">&#39;bottom&#39;</span><span class="o">:</span>
                                <span class="nx">handle</span> <span class="o">=</span> <span class="s1">&#39;t&#39;</span><span class="o">;</span>
                                <span class="k">break</span><span class="o">;</span>
                            <span class="nx">case</span> <span class="s1">&#39;right&#39;</span><span class="o">:</span>
                                <span class="nx">handle</span> <span class="o">=</span> <span class="s1">&#39;l&#39;</span><span class="o">;</span>
                                <span class="k">break</span><span class="o">;</span>
                            <span class="nx">case</span> <span class="s1">&#39;left&#39;</span><span class="o">:</span>
                                <span class="nx">handle</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="o">;</span>
                                <span class="k">break</span><span class="o">;</span>
                        <span class="o">}</span>

                        <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">,</span> <span class="s1">&#39;absolute&#39;</span><span class="o">);</span> <span class="c">//Make sure Resize get&#39;s a position</span>
<span class="c"></span>                        
                        <span class="k">if</span> <span class="o">(</span><span class="nx">handle</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_resize</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">util</span><span class="o">.</span><span class="nx">Resize</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;element&#39;</span><span class="o">),</span> <span class="o">{</span>
                                <span class="nx">proxy</span><span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;proxy&#39;</span><span class="o">),</span>
                                <span class="nx">hover</span><span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;hover&#39;</span><span class="o">),</span>
                                <span class="nx">status</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span>
                                <span class="nx">autoRatio</span><span class="o">:</span> <span class="kc">false</span><span class="o">,</span>
                                <span class="nx">handles</span><span class="o">:</span> <span class="o">[</span><span class="nx">handle</span><span class="o">],</span>
                                <span class="nx">minWidth</span><span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;minWidth&#39;</span><span class="o">),</span>
                                <span class="nx">maxWidth</span><span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;maxWidth&#39;</span><span class="o">),</span>
                                <span class="nx">minHeight</span><span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;minHeight&#39;</span><span class="o">),</span>
                                <span class="nx">maxHeight</span><span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;maxHeight&#39;</span><span class="o">),</span>
                                <span class="nx">height</span><span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">),</span>
                                <span class="nx">width</span><span class="o">:</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">),</span>
                                <span class="nx">setSize</span><span class="o">:</span> <span class="kc">false</span>
                            <span class="o">});</span>
                            
                            <span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">.</span><span class="nx">_handles</span><span class="o">[</span><span class="nx">handle</span><span class="o">].</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;div class=&quot;yui-layout-resize-knob&quot;&gt;&lt;/div&gt;&#39;</span><span class="o">;</span>

                            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;proxy&#39;</span><span class="o">))</span> <span class="o">{</span>
                                <span class="k">var</span> <span class="nx">proxy</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">.</span><span class="nx">getProxyEl</span><span class="o">();</span>
                                <span class="nx">proxy</span><span class="o">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;div class=&quot;yui-layout-handle-&#39;</span> <span class="o">+</span> <span class="nx">handle</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&lt;/div&gt;&#39;</span><span class="o">;</span>
                            <span class="o">}</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">.</span><span class="nx">on</span><span class="o">(</span><span class="s1">&#39;startResize&#39;</span><span class="o">,</span> <span class="k">function</span><span class="o">(</span><span class="nx">ev</span><span class="o">)</span> <span class="o">{</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">_lastScroll</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">);</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
                                <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">))</span> <span class="o">{</span>
                                    <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;startResize&#39;</span><span class="o">);</span>
                                    <span class="k">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">getUnitByPosition</span><span class="o">(</span><span class="s1">&#39;center&#39;</span><span class="o">);</span>
                                    <span class="k">this</span><span class="o">.</span><span class="nx">_lastCenterScroll</span> <span class="o">=</span> <span class="nx">c</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">);</span>
                                    <span class="nx">c</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
                                <span class="o">}</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">fireEvent</span><span class="o">(</span><span class="s1">&#39;startResize&#39;</span><span class="o">);</span>
                            <span class="o">},</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">.</span><span class="nx">on</span><span class="o">(</span><span class="s1">&#39;resize&#39;</span><span class="o">,</span> <span class="k">function</span><span class="o">(</span><span class="nx">ev</span><span class="o">)</span> <span class="o">{</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="nx">ev</span><span class="o">.</span><span class="nx">height</span><span class="o">);</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="nx">ev</span><span class="o">.</span><span class="nx">width</span><span class="o">);</span>
                                <span class="k">this</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastScroll</span><span class="o">);</span>
                                <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">))</span> <span class="o">{</span>
                                    <span class="k">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">).</span><span class="nx">getUnitByPosition</span><span class="o">(</span><span class="s1">&#39;center&#39;</span><span class="o">);</span>
                                    <span class="nx">c</span><span class="o">.</span><span class="nx">set</span><span class="o">(</span><span class="s1">&#39;scroll&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">_lastCenterScroll</span><span class="o">);</span>
                                <span class="o">}</span>
                            <span class="o">},</span> <span class="k">this</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="o">}</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">.</span><span class="nx">destroy</span><span class="o">();</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _cleanGrids</span>
<span class="c">        * @description This method attempts to clean up the first level of the YUI CSS Grids, YAHOO.util.Selector is required for this operation.</span>
<span class="c">        */</span>
        <span class="nx">_cleanGrids</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;grids&#39;</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">Sel</span><span class="o">.</span><span class="nx">query</span><span class="o">(</span><span class="s1">&#39;div.yui-b&#39;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">body</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="nx">b</span><span class="o">)</span> <span class="o">{</span>
                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">removeClass</span><span class="o">(</span><span class="nx">b</span><span class="o">,</span> <span class="s1">&#39;yui-b&#39;</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="nx">Event</span><span class="o">.</span><span class="nx">onAvailable</span><span class="o">(</span><span class="s1">&#39;yui-main&#39;</span><span class="o">,</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="nx">Sel</span><span class="o">.</span><span class="nx">query</span><span class="o">(</span><span class="s1">&#39;#yui-main&#39;</span><span class="o">),</span> <span class="s1">&#39;margin-left&#39;</span><span class="o">,</span> <span class="s1">&#39;0&#39;</span><span class="o">);</span>
                    <span class="nx">Dom</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="nx">Sel</span><span class="o">.</span><span class="nx">query</span><span class="o">(</span><span class="s1">&#39;#yui-main&#39;</span><span class="o">),</span> <span class="s1">&#39;margin-right&#39;</span><span class="o">,</span> <span class="s1">&#39;0&#39;</span><span class="o">);</span>
                <span class="o">});</span>
            <span class="o">}</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @private</span>
<span class="c">        * @method _createHeader</span>
<span class="c">        * @description Creates the HTMLElement for the header</span>
<span class="c">        * @return {HTMLElement} The new HTMLElement</span>
<span class="c">        */</span>
        <span class="nx">_createHeader</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">var</span> <span class="nx">header</span> <span class="o">=</span> <span class="nb">document</span><span class="o">.</span><span class="nx">createElement</span><span class="o">(</span><span class="s1">&#39;div&#39;</span><span class="o">);</span>
            <span class="nx">header</span><span class="o">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;yui-layout-hd&#39;</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;firstChild&#39;</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">).</span><span class="nx">insertBefore</span><span class="o">(</span><span class="nx">header</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">).</span><span class="nx">firstChild</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;wrap&#39;</span><span class="o">).</span><span class="nx">appendChild</span><span class="o">(</span><span class="nx">header</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">header</span> <span class="o">=</span> <span class="nx">header</span><span class="o">;</span>
            <span class="k">return</span> <span class="nx">header</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @method destroy</span>
<span class="c">        * @description Removes this unit from the parent and cleans up after itself.</span>
<span class="c">        * @return {&lt;a href=&quot;YAHOO.widget.Layout.html&quot;&gt;YAHOO.widget.Layout&lt;/a&gt;} The parent Layout instance</span>
<span class="c">        */</span>
        <span class="nx">destroy</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_resize</span><span class="o">.</span><span class="nx">destroy</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">var</span> <span class="nx">par</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parent&#39;</span><span class="o">);</span>

            <span class="k">this</span><span class="o">.</span><span class="nx">setStyle</span><span class="o">(</span><span class="s1">&#39;display&#39;</span><span class="o">,</span> <span class="s1">&#39;none&#39;</span><span class="o">);</span>
            <span class="nx">par</span><span class="o">.</span><span class="nx">removeUnit</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">.</span><span class="nx">parentNode</span><span class="o">.</span><span class="nx">removeChild</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">_clip</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="nx">_clip</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="nx">Event</span><span class="o">.</span><span class="nx">purgeElement</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;element&#39;</span><span class="o">));</span>
            <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;parentNode&#39;</span><span class="o">).</span><span class="nx">removeChild</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;element&#39;</span><span class="o">));</span>

            <span class="nx">delete</span> <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">widget</span><span class="o">.</span><span class="nx">LayoutUnit</span><span class="o">.</span><span class="nx">_instances</span><span class="o">[</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;id&#39;</span><span class="o">)];</span>
            <span class="c">//Brutal Object Destroy</span>
<span class="c"></span>            <span class="k">for</span> <span class="o">(</span><span class="k">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="k">this</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="nx">Lang</span><span class="o">.</span><span class="nx">hasOwnProperty</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">i</span><span class="o">))</span> <span class="o">{</span>
                    <span class="k">this</span><span class="o">[</span><span class="nx">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
                    <span class="nx">delete</span> <span class="k">this</span><span class="o">[</span><span class="nx">i</span><span class="o">];</span>
                <span class="o">}</span>
            <span class="o">}</span>
        
            <span class="k">return</span> <span class="nx">par</span><span class="o">;</span>
        <span class="o">},</span>
        <span class="c">/**</span>
<span class="c">        * @method toString</span>
<span class="c">        * @description Returns a string representing the LayoutUnit.</span>
<span class="c">        * @return {String}</span>
<span class="c">        */</span>        
        <span class="nx">toString</span><span class="o">:</span> <span class="k">function</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="s1">&#39;LayoutUnit #&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;id&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="nx">get</span><span class="o">(</span><span class="s1">&#39;position&#39;</span><span class="o">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="s1">&#39;LayoutUnit&#39;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="c">/**</span>
<span class="c">    * @event resize</span>
<span class="c">    * @description Fired when this.resize is called</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="c">/**</span>
<span class="c">    * @event startResize</span>
<span class="c">    * @description Fired when the Resize Utility fires it&#39;s startResize Event.</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="c">/**</span>
<span class="c">    * @event beforeResize</span>
<span class="c">    * @description Firef at the beginning of the resize method. If you return false, the resize is cancelled.</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="c">/**</span>
<span class="c">    * @event contentChange</span>
<span class="c">    * @description Fired when the content in the header, body or footer is changed via the API</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="c">/**</span>
<span class="c">    * @event close</span>
<span class="c">    * @description Fired when the unit is closed</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="c">/**</span>
<span class="c">    * @event beforeCollapse</span>
<span class="c">    * @description Fired before the unit is collapsed. If you return false, the collapse is cancelled.</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="c">/**</span>
<span class="c">    * @event collapse</span>
<span class="c">    * @description Fired when the unit is collapsed</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="c">/**</span>
<span class="c">    * @event expand</span>
<span class="c">    * @description Fired when the unit is exanded</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="c">/**</span>
<span class="c">    * @event beforeExpand</span>
<span class="c">    * @description Fired before the unit is exanded. If you return false, the collapse is cancelled.</span>
<span class="c">    * @type YAHOO.util.CustomEvent</span>
<span class="c">    */</span>
    <span class="o">});</span>

    <span class="nx">YAHOO</span><span class="o">.</span><span class="nx">widget</span><span class="o">.</span><span class="nx">LayoutUnit</span> <span class="o">=</span> <span class="nx">LayoutUnit</span><span class="o">;</span>
<span class="o">})();</span>
</pre></div>
                    </div>
			</div>
		</div>
		<div class="yui-b">
            <div class="nav">

                    <div class="module">
                        <h4>Modules</h4>
                        <ul class="content">

                                <li class=""><a href="module_animation.html">animation</a></li>

                                <li class=""><a href="module_autocomplete.html">autocomplete</a></li>

                                <li class=""><a href="module_button.html">button</a></li>

                                <li class=""><a href="module_calendar.html">calendar</a></li>

                                <li class=""><a href="module_charts.html">charts</a></li>

                                <li class=""><a href="module_colorpicker.html">colorpicker</a></li>

                                <li class=""><a href="module_connection.html">connection</a></li>

                                <li class=""><a href="module_container.html">container</a></li>

                                <li class=""><a href="module_cookie.html">cookie</a></li>

                                <li class=""><a href="module_datasource.html">datasource</a></li>

                                <li class=""><a href="module_datatable.html">datatable</a></li>

                                <li class=""><a href="module_dom.html">dom</a></li>

                                <li class=""><a href="module_dragdrop.html">dragdrop</a></li>

                                <li class=""><a href="module_editor.html">editor</a></li>

                                <li class=""><a href="module_element.html">element</a></li>

                                <li class=""><a href="module_event.html">event</a></li>

                                <li class=""><a href="module_get.html">get</a></li>

                                <li class=""><a href="module_history.html">history</a></li>

                                <li class=""><a href="module_imagecropper.html">imagecropper</a></li>

                                <li class=""><a href="module_imageloader.html">imageloader</a></li>

                                <li class=""><a href="module_json.html">json</a></li>

                                <li class="selected"><a href="module_layout.html">layout</a></li>

                                <li class=""><a href="module_logger.html">logger</a></li>

                                <li class=""><a href="module_menu.html">menu</a></li>

                                <li class=""><a href="module_profiler.html">profiler</a></li>

                                <li class=""><a href="module_profilerviewer.html">profilerviewer</a></li>

                                <li class=""><a href="module_resize.html">resize</a></li>

                                <li class=""><a href="module_selector.html">selector</a></li>

                                <li class=""><a href="module_slider.html">slider</a></li>

                                <li class=""><a href="module_tabview.html">tabview</a></li>

                                <li class=""><a href="module_treeview.html">treeview</a></li>

                                <li class=""><a href="module_uploader.html">uploader</a></li>

                                <li class=""><a href="module_yahoo.html">yahoo</a></li>

                                <li class=""><a href="module_yuiloader.html">yuiloader</a></li>

                                <li class=""><a href="module_yuitest.html">yuitest</a></li>
                        </ul>
                    </div>

                    <div class="module">
                        <h4>Classes</h4>
                        <ul class="content">
                                <li class=""><a href="YAHOO.widget.Layout.html">YAHOO.widget.Layout</a></li>
                                <li class=""><a href="YAHOO.widget.LayoutUnit.html">YAHOO.widget.LayoutUnit</a></li>
                        </ul>
                    </div>

                    <div class="module">
                        <h4>Files</h4>
                        <ul class="content">        
                                <li class=""><a href="layout.js.html">layout.js</a></li>
                                <li class="selected"><a href="layoutunit.js.html">layoutunit.js</a></li>
                        </ul>
                    </div>





            </div>
		</div>
	</div>
	<div id="ft">
        <hr />
        Copyright &copy; 2007 Yahoo! Inc. All rights reserved.
	</div>
</div>
</body>
</html>
